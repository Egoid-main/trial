{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResultsPage=()=>{const{responseId}=useParams();const[results,setResults]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{if(responseId){fetchResults(responseId);}},[responseId]);const fetchResults=async id=>{try{const response=await axios.get(\"/api/results/\".concat(id));setResults(response.data);setLoading(false);}catch(err){setError('결과를 불러오는 중 오류가 발생했습니다.');setLoading(false);}};const getScoreColor=score=>{if(score>=80)return'#28a745';if(score>=60)return'#17a2b8';if(score>=40)return'#ffc107';if(score>=20)return'#fd7e14';return'#dc3545';};const getScoreLabel=score=>{if(score>=80)return'매우 높음';if(score>=60)return'높음';if(score>=40)return'보통';if(score>=20)return'낮음';return'매우 낮음';};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\uACB0\\uACFC\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"})})});}if(error||!results){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error||'결과를 찾을 수 없습니다.'}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn\",children:\"\\uD648\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{textAlign:'center',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'36px',marginBottom:'20px',color:'#333'},children:\"\\uAC80\\uC0AC \\uACB0\\uACFC\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'18px'},children:\"\\uB2F9\\uC2E0\\uC758 \\uC131\\uACA9 \\uD2B9\\uC9C8 \\uBD84\\uC11D \\uACB0\\uACFC\\uC785\\uB2C8\\uB2E4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-card\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'24px',marginBottom:'20px'},children:\"\\uC885\\uD569 \\uACB0\\uACFC\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'16px',opacity:0.9},children:[\"\\uAC80\\uC0AC \\uC644\\uB8CC\\uC77C: \",new Date(results.createdAt).toLocaleDateString('ko-KR')]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'20px',marginTop:'30px'},children:results.traitResults.map(trait=>/*#__PURE__*/_jsxs(\"div\",{className:\"trait-result\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"trait-name\",children:trait.name}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"trait-score\",style:{color:getScoreColor(trait.score)},children:[trait.score.toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{style:{background:getScoreColor(trait.score),color:'white',padding:'4px 12px',borderRadius:'20px',fontSize:'14px',fontWeight:'bold'},children:getScoreLabel(trait.score)})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'8px',background:'#e9ecef',borderRadius:'4px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"\".concat(trait.score,\"%\"),height:'100%',background:getScoreColor(trait.score),transition:'width 0.5s ease'}})}),trait.description&&/*#__PURE__*/_jsx(\"div\",{className:\"trait-description\",children:trait.description})]},trait.id))}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'40px'},children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn\",style:{marginRight:'10px'},children:\"\\uB2E4\\uC2DC \\uAC80\\uC0AC\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"btn btn-secondary\",children:\"\\uAD00\\uB9AC\\uC790 \\uD398\\uC774\\uC9C0\"})]})]});};export default ResultsPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","jsx","_jsx","jsxs","_jsxs","ResultsPage","responseId","results","setResults","loading","setLoading","error","setError","fetchResults","id","response","get","concat","data","err","getScoreColor","score","getScoreLabel","className","children","to","style","textAlign","marginBottom","fontSize","color","opacity","Date","createdAt","toLocaleDateString","display","gap","marginTop","traitResults","map","trait","name","alignItems","justifyContent","toFixed","background","padding","borderRadius","fontWeight","width","height","overflow","transition","description","marginRight"],"sources":["C:/Users/asus/OneDrive/문서/창업/Egoid/runch/trial/client/src/components/ResultsPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\ninterface TraitResult {\r\n  id: number;\r\n  name: string;\r\n  description: string;\r\n  score: number;\r\n}\r\n\r\ninterface ResultsData {\r\n  responseId: string;\r\n  traitResults: TraitResult[];\r\n  responses: any[];\r\n  createdAt: string;\r\n}\r\n\r\nconst ResultsPage: React.FC = () => {\r\n  const { responseId } = useParams<{ responseId: string }>();\r\n  const [results, setResults] = useState<ResultsData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (responseId) {\r\n      fetchResults(responseId);\r\n    }\r\n  }, [responseId]);\r\n\r\n  const fetchResults = async (id: string) => {\r\n    try {\r\n      const response = await axios.get(`/api/results/${id}`);\r\n      setResults(response.data);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError('결과를 불러오는 중 오류가 발생했습니다.');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getScoreColor = (score: number) => {\r\n    if (score >= 80) return '#28a745';\r\n    if (score >= 60) return '#17a2b8';\r\n    if (score >= 40) return '#ffc107';\r\n    if (score >= 20) return '#fd7e14';\r\n    return '#dc3545';\r\n  };\r\n\r\n  const getScoreLabel = (score: number) => {\r\n    if (score >= 80) return '매우 높음';\r\n    if (score >= 60) return '높음';\r\n    if (score >= 40) return '보통';\r\n    if (score >= 20) return '낮음';\r\n    return '매우 낮음';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"card\">\r\n          <div className=\"loading\">결과를 불러오는 중...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !results) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"card\">\r\n          <div className=\"error\">{error || '결과를 찾을 수 없습니다.'}</div>\r\n          <Link to=\"/\" className=\"btn\">\r\n            홈으로 돌아가기\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"card\" style={{ textAlign: 'center', marginBottom: '30px' }}>\r\n        <h1 style={{ fontSize: '36px', marginBottom: '20px', color: '#333' }}>\r\n          검사 결과\r\n        </h1>\r\n        <p style={{ color: '#666', fontSize: '18px' }}>\r\n          당신의 성격 특질 분석 결과입니다\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"result-card\">\r\n        <h2 style={{ fontSize: '24px', marginBottom: '20px' }}>\r\n          종합 결과\r\n        </h2>\r\n        <p style={{ fontSize: '16px', opacity: 0.9 }}>\r\n          검사 완료일: {new Date(results.createdAt).toLocaleDateString('ko-KR')}\r\n        </p>\r\n      </div>\r\n\r\n      <div style={{ display: 'grid', gap: '20px', marginTop: '30px' }}>\r\n        {results.traitResults.map((trait) => (\r\n          <div key={trait.id} className=\"trait-result\">\r\n            <div className=\"trait-name\">{trait.name}</div>\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '15px' }}>\r\n              <div \r\n                className=\"trait-score\"\r\n                style={{ color: getScoreColor(trait.score) }}\r\n              >\r\n                {trait.score.toFixed(1)}%\r\n              </div>\r\n              <div \r\n                style={{ \r\n                  background: getScoreColor(trait.score), \r\n                  color: 'white', \r\n                  padding: '4px 12px', \r\n                  borderRadius: '20px',\r\n                  fontSize: '14px',\r\n                  fontWeight: 'bold'\r\n                }}\r\n              >\r\n                {getScoreLabel(trait.score)}\r\n              </div>\r\n            </div>\r\n            \r\n            <div style={{ \r\n              width: '100%', \r\n              height: '8px', \r\n              background: '#e9ecef', \r\n              borderRadius: '4px',\r\n              overflow: 'hidden'\r\n            }}>\r\n              <div \r\n                style={{ \r\n                  width: `${trait.score}%`, \r\n                  height: '100%', \r\n                  background: getScoreColor(trait.score),\r\n                  transition: 'width 0.5s ease'\r\n                }}\r\n              />\r\n            </div>\r\n            \r\n            {trait.description && (\r\n              <div className=\"trait-description\">\r\n                {trait.description}\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div style={{ textAlign: 'center', marginTop: '40px' }}>\r\n        <Link to=\"/\" className=\"btn\" style={{ marginRight: '10px' }}>\r\n          다시 검사하기\r\n        </Link>\r\n        <Link to=\"/admin\" className=\"btn btn-secondary\">\r\n          관리자 페이지\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResultsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}